/*******************************************************************************
FILE:     Joint.cpp
PURPOSE:  Joint associated with 1 servo
*******************************************************************************/

/* INCLUDE ********************************************************************/
#include "Joint.h"

#include "Slog.h"

/* METHODS ********************************************************************/
/*------------------------------------------------------------------------------
FUNCTION:  Joint::Joint()
------------------------------------------------------------------------------*/
Joint::Joint(int channel, int min_pulse, int max_pulse)
  : Servo(min_pulse, max_pulse),
    m_channel(channel)
{
}

/*------------------------------------------------------------------------------
FUNCTION:  Joint::~Joint()
------------------------------------------------------------------------------*/
Joint::~Joint()
{
}

/*------------------------------------------------------------------------------
FUNCTION:  bool Angle()
------------------------------------------------------------------------------*/
bool Joint::Angle(int angle)
{
  SLOG << "Legs::Angle(" << angle << ") m_channel=" << m_channel << std::endl;

  return(set_servo_angle(m_channel, angle));
}

/*------------------------------------------------------------------------------
FUNCTION:  void SetPWM()
------------------------------------------------------------------------------*/
void Joint::SetPWM(int off_pwm)
{
  set_servo_pwm(m_channel, off_pwm);
}
